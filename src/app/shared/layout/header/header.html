<div class="header-fixed">
  <mat-toolbar color="background-white-color">
    <mat-toolbar-row>
      <button mat-icon-button (click)="onToggleSidenav()" fxShow="true" fxHide.gt-sm>
        <mat-icon>menu</mat-icon>
      </button>
      <span><img width="200" src="../../../../assets/images/loginLogo.png" alt="logo" /></span>
      <span class="menu-spacer"></span>
      
    <button  class="pull-right p-t-10"
      mat-button [disableRipple]="true">

       <a href="javascript:void(0)" (click)="openDiv()">
         <mat-icon [ngClass]="{'bell-icon-active': notifClicked === true,'bell-icon':notifClicked === false }" matBadge="{{unreadnotificationLength}}" matBadgeSize="small" matBadge="15" matBadgeColor="warn">notifications</mat-icon>
       </a>
    </button>


      <div fxShow="true" fxHide.lt-md>

        <button mat-button [matMenuTriggerFor]="logIn">
          <img class="img-circle" height="36" width="38" src="../../../../assets/images/user-image.jpg" alt="Test" />
          Test
          <mat-icon aria-hidden="false" aria-label="Example arrow_drop_down icon">arrow_drop_down</mat-icon>
        </button>
        <mat-menu #logIn="matMenu">
          <button mat-menu-item class="background-white-color">
            My Account
          </button>
          <button mat-menu-item class="background-white-color" (click)="logout()"
            routerLinkActive="router-link-active">LogOut</button>
        </mat-menu>
      </div>
    </mat-toolbar-row>
  </mat-toolbar>


  <div class="col-sm-12 blue-background-color" *ngIf="role">
    <a href="javascript:void(0)" (click)="setButtonName('dashboard')">
      <button [class.active]="buttonName == 'dashboard'" class="color-white" mat-button
        (click)="setButtonName('dashboard')">
        Dashboard
      </button>
    </a>
    
    <a href="javascript:void(0)" *ngIf="permissionObj.projectStoreFlag" (click)="setButtonName('projectStore')">
      <button [class.active]="buttonName == 'projectStore'" class="color-white" mat-button
        (click)="setButtonName('projectStore')">
        Project Store
      </button>
    </a>
    <a href="javascript:void(0)" *ngIf="permissionObj.globalStoreFlag" (click)="setButtonName('globalStore')">
      <button [class.active]="buttonName == 'globalStore'" class="color-white" mat-button
        (click)="setButtonName('globalStore')">
        Global Store
      </button>
    </a>
    <button *ngIf="permissionObj.rfqFlag" [class.active]="buttonName == 'requestForQuotation'" class="color-white"
      mat-button (click)="setButtonName('requestForQuotation')">
      Request for Quotation
    </button>

    <button *ngIf="permissionObj.purchaseOrderFlag" [class.active]="buttonName == 'purchaseOrder'" class="color-white"
      mat-button (click)="setButtonName('purchaseOrder')">
      Purchase Order
    </button>

    <button *ngIf="permissionObj.usersFlag" [class.active]="buttonName == 'users'" class="color-white" mat-button
      (click)="setButtonName('users')">
      Users
    </button>

    <button *ngIf="permissionObj.supplierFlag" [class.active]="buttonName == 'supplier'" class="color-white" mat-button
      (click)="setButtonName('supplier')">
      Supplier
    </button>

    <!-- <button class="color-white pull-right p-t-10" mat-button>

      <a href="javascript:void(0)" (click)="openDiv()">
        <mat-icon [ngClass]="{'bell-icon-active': notifClicked === true,'bell-icon':notifClicked === false }"
          matBadge="{{unreadnotificationLength}}" matBadgeSize="small" matBadge="15" matBadgeColor="warn">notifications
        </mat-icon>
      </a>
    </button> -->
  </div>

  <ng-container *ngIf="notifClicked">
    <div id="notifications">
      <h3>Notifications</h3>
      <div class="body-of-notification">

        <ng-container *ngIf="unreadnotification && unreadnotification.length>0">
          <div class="read-unread-heading p-10  cursor-pointer">
            <span>
              Recent
            </span>
            <span class="pull-right ">
              You have {{unreadnotification.length}} unread notifications
            </span>
          </div>
          <ng-container *ngFor="let notification of unreadnotification">
            <div (click)="routeTo(notification.resourceUrl)" class="p-10 unread-background  cursor-pointer">
              <span *ngIf="notification.notificationText" class="font-size-12">
                {{notification.notificationText}}
              </span>
              <span *ngIf="notification.created_at" class="time-notification">
                <br>
                {{notification.created_at |  date:'medium'}}
              </span>
            </div>
          </ng-container>
        </ng-container>



        <ng-container *ngIf="readnotification && readnotification.length>0">
          <div class="read-unread-heading">
            <span class="p-5">
              Earlier
            </span>

          </div>
          <ng-container *ngFor="let notification of readnotification">
            <div (click)="routeTo(notification.resourceUrl)" class="read-background cursor-pointer">
              <span *ngIf="notification.notificationText" class="font-size-12">
                {{notification.notificationText}}
              </span>
              <span *ngIf="notification.created_at" class="time-notification">
                <br>
                {{notification.created_at | date:'medium'}}
              </span>
            </div>
          </ng-container>
        </ng-container>


      </div>
      <!-- <div class="seeAll"><a href="#">View All</a></div> -->
    </div>
  </ng-container>

</div>