<mat-accordion displayMode="flat" multi class="mat-table">
  <section matSort class="mat-elevation-z2 mat-header-row">
    <span class="mat-header-cell" mat-sort-header="vesselName">Name</span>
    <span class="mat-header-cell" mat-sort-header="vesselId"
      >Estimated Quantity</span
    >
    <span class="mat-header-cell" mat-sort-header="vesselStatus"
      >Requested Quantity</span
    >
    <span class="mat-header-cell" mat-sort-header="ircs">Required Date</span>
    <span class="mat-header-cell" mat-sort-header="ircs"
      >Available quantity in project</span
    >
  </section>
  <mat-expansion-panel *ngFor="let project of newProjectData">
    <mat-expansion-panel-header class="mat-row">
      <span class="mat-cell">{{ project.ProjectGlobal.projectName }}</span>
    </mat-expansion-panel-header>
    <mat-expansion-panel *ngFor="let material of project.GlobalMaterials">
      <mat-expansion-panel-header class="mat-row">
        <span class="mat-cell">{{ material.GlobalMaterial.materialName }}</span>
        <span class="mat-cell">{{ material.GlobalMaterial.estimatedQty }}</span>
        <span class="mat-cell">{{ material.GlobalMaterial.sum }}</span>
        <span class="mat-cell">{{
          material.GlobalMaterial.nearDueDate | date: mediumDate
        }}</span>
        <span class="mat-cell">{{ material.GlobalMaterial.availableQty }}</span>
      </mat-expansion-panel-header>
      <ng-container *ngIf="material.IndentMaterial">
        <div *ngFor="let indent of material.IndentMaterial">
          <mat-expansion-panel-header class="mat-row">
            <span class="mat-cell"></span>
            <span class="mat-cell"></span>
            <span class="mat-cell">{{ indent.quantity }}</span>
            <span class="mat-cell">{{
              indent.dueDate | date: mediumDate
            }}</span>
            <span class="mat-cell"></span>
          </mat-expansion-panel-header>
        </div>
      </ng-container>
    </mat-expansion-panel>
  </mat-expansion-panel>
</mat-accordion>
