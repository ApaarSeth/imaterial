<div class="page-start-point">

<ng-container *ngIf="addUserBtn">
   <div class="p-l-20 p-r-20 p-b-20 min-height parent wrapper-btn-center">
        <button  mat-raised-button  (click)="addUser()" class="main-background-color main-button color-white btn-width-add-users center-screen-btn">
          Add First User
        </button>
  </div> 
</ng-container>

<ng-container *ngIf="!addUserBtn">
   <div class="row" class="p-l-20 p-r-20 p-b-20 min-height parent">
      <div class="text-right add-user-details-button-right">
        <button mat-raised-button (click)="addUser()"
          class="main-background-color main-button color-white">
          Add User
        </button>
      </div>
<ng-container *ngIf="dataSourceActivate.length > 0">
  <mat-expansion-panel class="myPanel" [expanded]="true">
    <mat-expansion-panel-header>
      <div class="row p-t-10 p-b-10">
        <div class="col-sm-12">
            <span>Active Users</span>
        </div>
      </div>
    </mat-expansion-panel-header>
      <!-- first table structure -->
      <div class="row">
        <!-- <div class="col-sm-12"> -->
        <!-- table structure -->
        <div class="user-details-table-div">
        <table mat-table [dataSource]="dataSourceActivate" class="mat-elevation-z8 col-sm-12">
          <!--- Note that these columns can be defined in any order.
                  The actual rendered columns are set as a property on the row definition" -->

          <!-- Position Column -->


          
          <ng-container matColumnDef="User Name">
            <th mat-header-cell *matHeaderCellDef>User Name</th>
            <td mat-cell *matCellDef="let element">{{ element.ProjectUser.firstName}} {{element.ProjectUser.lastName}}</td>
          </ng-container>

          <!-- Name Column -->
          <ng-container matColumnDef="Email Id">
            <th mat-header-cell *matHeaderCellDef>Email Id</th>
            <td mat-cell *matCellDef="let element">
              {{ element.ProjectUser.email }}
            </td>
          </ng-container>

          <!-- Weight Column -->
          <ng-container matColumnDef="Phone">
            <th mat-header-cell *matHeaderCellDef>Phone</th>
            <td mat-cell *matCellDef="let element">
              {{ element.ProjectUser.contactNo }}
            </td>
          </ng-container>

          <!-- Symbol Column -->
          <ng-container matColumnDef="Role">
            <th mat-header-cell *matHeaderCellDef>Role</th>
            <td mat-cell *matCellDef="let element">
              {{ element.ProjectUser.roleName }}
            </td>
          </ng-container>

        <!-- Symbol Column -->
          <ng-container matColumnDef="Project">
            <th mat-header-cell *matHeaderCellDef  class="project-user-details-width">Project</th>
            <td mat-cell *matCellDef="let element"  class="project-user-details-width">
              <ng-container *ngFor = "let x of element.ProjectList">
                <button mat-button class="btn-project-user-details">
                    {{x.projectName}}
                </button>
              </ng-container>
            </td>
          </ng-container>

          <ng-container matColumnDef="star" stickyEnd>
            <th mat-header-cell *matHeaderCellDef class="edit-disable-user-details-width"></th>
            <td mat-cell *matCellDef="let element" class="edit-disable-user-details-width">
                <mat-icon aria-hidden="false" (click)="deactivateUser(element)">block</mat-icon>
              <i class="material-icons main-color" (click)="editProject(element)"> edit </i>
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
        </table>
        </div>
        <!-- end structure -->
        <!-- </div> -->
      </div>
  </mat-expansion-panel>
</ng-container>
<p></p>

<ng-container *ngIf="dataSourceDeactivate && dataSourceDeactivate.length > 0">
  <mat-expansion-panel  class="myPanel" [expanded]="true">
    <mat-expansion-panel-header>
      <div class="row p-t-10 p-b-10">
        <div class="col-sm-12">
            <span>Deactivate Users</span>
        </div>
      </div>
    </mat-expansion-panel-header>
      <!-- first table structure -->
      <div class="row">
        <!-- <div class="col-sm-12"> -->
        <!-- table structure -->
        <div class="user-details-table-div">
        <table mat-table [dataSource]="dataSourceDeactivate" class="mat-elevation-z8 col-sm-12">
          <!--- Note that these columns can be defined in any order.
                  The actual rendered columns are set as a property on the row definition" -->

          <!-- Position Column -->
          <ng-container matColumnDef="User Name">
            <th mat-header-cell *matHeaderCellDef>User Name</th>
            <td mat-cell *matCellDef="let element">{{ element.ProjectUser.firstName}} {{element.ProjectUser.lastName}}</td>
          </ng-container>

          <!-- Name Column -->
          <ng-container matColumnDef="Email Id">
            <th mat-header-cell *matHeaderCellDef>Email Id</th>
            <td mat-cell *matCellDef="let element">
              {{ element.ProjectUser.email }}
            </td>
          </ng-container>

          <!-- Weight Column -->
          <ng-container matColumnDef="Phone">
            <th mat-header-cell *matHeaderCellDef>Phone</th>
            <td mat-cell *matCellDef="let element">
              {{ element.ProjectUser.contactNo }}
            </td>
          </ng-container>

          <!-- Symbol Column -->
          <ng-container matColumnDef="Role">
            <th mat-header-cell *matHeaderCellDef>Role</th>
            <td mat-cell *matCellDef="let element">
              {{ element.ProjectUser.roleName }}
            </td>
          </ng-container>

        <!-- Symbol Column -->
          <ng-container matColumnDef="Project">
            <th mat-header-cell *matHeaderCellDef  class="project-user-details-width">Project</th>
            <td mat-cell *matCellDef="let element"  class="project-user-details-width">
              <ng-container *ngFor = "let x of element.ProjectList">
                <button mat-button class="btn-project-user-details">
                    {{x.projectName}}
                </button>
              </ng-container>
            </td>
          </ng-container>
  <!-- 
          <ng-container matColumnDef="star" stickyEnd>
            <th mat-header-cell *matHeaderCellDef class="edit-disable-user-details-width"></th>
            <td mat-cell *matCellDef="let element" class="edit-disable-user-details-width">
                <mat-icon aria-hidden="false" (click)="deactivateUser(element)">block</mat-icon>
              <i class="material-icons main-color" (click)="editProject(element)"> edit </i>
            </td>
          </ng-container> -->

          <tr mat-header-row *matHeaderRowDef="displayedColumnsDeactivate"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumnsDeactivate"></tr>
        </table>
        </div>
        <!-- end structure -->
        <!-- </div> -->
      </div>
  </mat-expansion-panel>
</ng-container>

</div>
</ng-container>
 

 </div>